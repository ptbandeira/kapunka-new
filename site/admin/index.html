<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager</title>
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
  <div id="nc-root"></div>
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  <script>
    (function () {
      "use strict";

      function initPreview() {
        var CMS = window.CMS;
        var createElement = window.h || (window.React && window.React.createElement);
        if (!CMS || !createElement) {
          window.setTimeout(initPreview, 50);
          return;
        }

        var containerStyle = {
          fontFamily: 'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',
          padding: '24px',
          lineHeight: '1.5',
          color: '#1f2933',
          backgroundColor: '#f8fafc'
        };

        var metaBarStyle = {
          display: 'flex',
          flexWrap: 'wrap',
          justifyContent: 'space-between',
          alignItems: 'center',
          gap: '12px',
          marginBottom: '20px',
          padding: '12px 16px',
          borderRadius: '10px',
          border: '1px solid #d9e2ec',
          backgroundColor: '#ffffff',
          boxShadow: '0 2px 8px rgba(15, 23, 42, 0.04)'
        };

        var breadcrumbStyle = {
          fontSize: '13px',
          color: '#486581',
          letterSpacing: '0.01em'
        };

        var localeBadgeStyle = {
          display: 'inline-flex',
          alignItems: 'center',
          gap: '8px',
          fontSize: '12px',
          textTransform: 'uppercase',
          letterSpacing: '0.08em',
          color: '#334e68'
        };

        var localePillStyle = {
          display: 'inline-flex',
          alignItems: 'center',
          justifyContent: 'center',
          minWidth: '36px',
          padding: '4px 10px',
          borderRadius: '999px',
          backgroundColor: '#e0f2fe',
          color: '#102a43',
          fontWeight: '600'
        };

        var metaPathStyle = {
          fontSize: '12px',
          color: '#829ab1'
        };

        var metaStackStyle = {
          display: 'flex',
          flexDirection: 'column',
          gap: '6px',
          minWidth: '220px'
        };

        var metaSideStackStyle = Object.assign({}, metaStackStyle, {
          alignItems: 'flex-end',
          textAlign: 'right'
        });

        var localeSwitcherStyle = {
          display: 'flex',
          flexWrap: 'wrap',
          gap: '6px',
          justifyContent: 'flex-end'
        };

        var localeChipStyle = {
          display: 'inline-flex',
          alignItems: 'center',
          justifyContent: 'center',
          padding: '6px 12px',
          borderRadius: '999px',
          fontSize: '11px',
          letterSpacing: '0.08em',
          textTransform: 'uppercase',
          textDecoration: 'none',
          transition: 'all 0.2s ease-in-out',
          border: '2px solid transparent',
          outline: 'none',
          fontWeight: '600',
          minHeight: '32px'
        };

        var localeChipActiveStyle = {
          backgroundColor: '#1e3a8a',
          color: '#f8fafc',
          borderColor: '#1e3a8a'
        };

        var localeChipInactiveStyle = {
          backgroundColor: '#334155',
          color: '#f8fafc'
        };

        var previewFocusTimeout = null;
        var lastPreviewSlug = null;
        var metaRegionLabelId = 'preview-meta-bar-label';

        CMS.registerPreviewStyle(
          [
            'a[data-locale-chip]{box-shadow:none; text-decoration:none;}',
            'a[data-locale-chip][aria-current="true"]{box-shadow:0 0 0 2px #1e3a8a;}',
            'a[data-locale-chip]:focus-visible{outline:3px solid #0f766e; outline-offset:2px; box-shadow:none;}'
          ].join('\n'),
          { raw: true }
        );

        var heroStyle = {
          backgroundColor: '#ffffff',
          border: '1px solid #d9e2ec',
          borderRadius: '12px',
          padding: '24px',
          marginBottom: '24px',
          boxShadow: '0 4px 12px rgba(15, 23, 42, 0.08)'
        };

        var badgeStyle = {
          display: 'inline-block',
          fontSize: '12px',
          letterSpacing: '0.08em',
          textTransform: 'uppercase',
          color: '#486581',
          backgroundColor: '#e0f2fe',
          padding: '4px 8px',
          borderRadius: '999px',
          marginBottom: '12px'
        };

        var heroHeadlineStyle = {
          fontSize: '28px',
          fontWeight: '600',
          margin: '0 0 12px',
          color: '#102a43'
        };

        var heroSubStyle = {
          margin: '0 0 20px',
          fontSize: '18px',
          color: '#334e68'
        };

        var heroMetaStyle = {
          display: 'grid',
          gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))',
          gap: '12px',
          marginBottom: '12px'
        };

        var heroMetaCardStyle = {
          backgroundColor: '#f8fafc',
          borderRadius: '10px',
          border: '1px solid #d9e2ec',
          padding: '12px'
        };

        var heroMetaHeadingStyle = {
          margin: '0 0 4px',
          fontSize: '12px',
          letterSpacing: '0.08em',
          textTransform: 'uppercase',
          color: '#486581'
        };

        var heroMetaValueStyle = {
          margin: '0',
          fontSize: '14px',
          color: '#243b53'
        };

        var ctaGroupStyle = {
          borderTop: '1px solid #d9e2ec',
          paddingTop: '16px',
          marginTop: '16px'
        };

        var ctaHeadingStyle = {
          margin: '0 0 12px',
          fontSize: '14px',
          letterSpacing: '0.08em',
          textTransform: 'uppercase',
          color: '#486581'
        };

        var ctaRowStyle = {
          display: 'grid',
          gridTemplateColumns: '120px 1fr 1fr auto',
          gap: '12px',
          alignItems: 'center',
          padding: '10px 12px',
          borderRadius: '10px',
          backgroundColor: '#f8fafc',
          border: '1px solid #d9e2ec',
          marginBottom: '8px'
        };

        var ctaBadgeStyle = {
          display: 'inline-flex',
          alignItems: 'center',
          justifyContent: 'center',
          padding: '4px 8px',
          borderRadius: '999px',
          fontSize: '12px',
          letterSpacing: '0.08em',
          textTransform: 'uppercase'
        };

        var ctaPrimaryBadge = {
          backgroundColor: '#c3ddfd',
          color: '#102a43'
        };

        var ctaSecondaryBadge = {
          backgroundColor: '#f1f5f9',
          color: '#243b53'
        };

        var ctaTextStyle = {
          fontSize: '14px',
          color: '#243b53',
          margin: '0'
        };

        var ctaUrlStyle = {
          fontSize: '13px',
          color: '#486581',
          margin: '0'
        };

        var ctaStateStyle = {
          display: 'inline-flex',
          alignItems: 'center',
          justifyContent: 'center',
          padding: '4px 10px',
          borderRadius: '999px',
          fontSize: '12px',
          fontWeight: '600'
        };

        var ctaStateReadyStyle = {
          backgroundColor: '#c6f7e2',
          color: '#0b6e4f'
        };

        var ctaStateDraftStyle = {
          backgroundColor: '#ffeeee',
          color: '#b91c1c'
        };

        var sectionListStyle = {
          backgroundColor: '#ffffff',
          border: '1px solid #d9e2ec',
          borderRadius: '12px',
          padding: '24px',
          boxShadow: '0 4px 12px rgba(15, 23, 42, 0.08)'
        };

        var sectionListHeadingStyle = {
          margin: '0 0 16px',
          fontSize: '20px',
          fontWeight: '600',
          color: '#102a43'
        };

        var sectionGridStyle = {
          display: 'grid',
          gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))',
          gap: '16px'
        };

        var sectionCardStyle = {
          border: '1px solid #d9e2ec',
          borderRadius: '10px',
          padding: '16px',
          backgroundColor: '#f8fafc'
        };

        var sectionMetaStyle = {
          fontSize: '12px',
          textTransform: 'uppercase',
          letterSpacing: '0.08em',
          color: '#829ab1',
          marginBottom: '8px'
        };

        var sectionTitleStyle = {
          fontSize: '16px',
          fontWeight: '500',
          margin: '0 0 10px',
          color: '#243b53'
        };

        var sectionDetailRowStyle = {
          display: 'flex',
          flexWrap: 'wrap',
          gap: '8px'
        };

        var sectionDetailChipStyle = {
          display: 'inline-flex',
          alignItems: 'center',
          padding: '4px 8px',
          borderRadius: '999px',
          backgroundColor: '#e0f2fe',
          color: '#334e68',
          fontSize: '12px',
          letterSpacing: '0.04em'
        };

        var heroMediaWrapperStyle = {
          marginTop: '20px'
        };

        var heroMediaHeadingStyle = {
          margin: '0 0 8px',
          fontSize: '13px',
          letterSpacing: '0.08em',
          textTransform: 'uppercase',
          color: '#486581'
        };

        var heroMediaGridStyle = {
          display: 'grid',
          gridTemplateColumns: 'repeat(auto-fit, minmax(160px, 1fr))',
          gap: '12px'
        };

        var heroMediaCardStyle = {
          borderRadius: '10px',
          border: '1px dashed #cbd2d9',
          padding: '12px',
          backgroundColor: '#f1f5f9'
        };

        var heroMediaLabelStyle = {
          margin: '0 0 6px',
          fontSize: '12px',
          letterSpacing: '0.08em',
          textTransform: 'uppercase',
          color: '#486581'
        };

        var heroMediaFilenameStyle = {
          margin: '0 0 8px',
          fontSize: '13px',
          color: '#243b53',
          wordBreak: 'break-all'
        };

        var heroMediaStatusStyle = {
          display: 'inline-flex',
          alignItems: 'center',
          justifyContent: 'center',
          padding: '4px 8px',
          borderRadius: '999px',
          fontSize: '11px',
          letterSpacing: '0.08em',
          textTransform: 'uppercase'
        };

        var heroMediaStatusReadyStyle = {
          backgroundColor: '#c6f7e2',
          color: '#0b6e4f'
        };

        var heroMediaStatusMissingStyle = {
          backgroundColor: '#ffeeee',
          color: '#b91c1c'
        };

        var emptyStateStyle = {
          margin: '0',
          fontSize: '14px',
          color: '#829ab1'
        };

        function focusPreviewNode(node) {
          if (!node) {
            return;
          }

          if (previewFocusTimeout) {
            window.clearTimeout(previewFocusTimeout);
          }

          previewFocusTimeout = window.setTimeout(function () {
            if (node && typeof node.focus === 'function') {
              node.focus();
            }
          }, 0);
        }

        function toJS(value) {
          if (value && typeof value.toJS === 'function') {
            return value.toJS();
          }
          return value;
        }

        function getLocaleInfo(entry) {
          var slug = entry && entry.get ? entry.get('slug') : '';
          var locale = '';
          var baseSlug = slug || '';
          if (slug) {
            var localeMatch = slug.match(/_([a-z]{2})$/i);
            if (localeMatch) {
              locale = localeMatch[1].toLowerCase();
              baseSlug = slug.slice(0, -(locale.length + 1));
            }
          }

          var explicitLocale = entry && entry.getIn ? entry.getIn(['data', 'locale']) : '';
          if (!locale && explicitLocale) {
            locale = String(explicitLocale).toLowerCase();
          }

          return {
            locale: locale,
            baseSlug: baseSlug
          };
        }

        function getCollectionLabel(props, entry) {
          if (props && props.collection) {
            var collection = props.collection;
            if (collection.get) {
              return collection.get('label') || collection.get('name') || '';
            }
            if (collection.label || collection.name) {
              return collection.label || collection.name;
            }
          }
          if (entry && entry.get) {
            return entry.get('collection') || '';
          }
          return '';
        }

        function getEntryType(entry) {
          if (entry && entry.getIn) {
            var typeValue = entry.getIn(['data', 'type']);
            if (typeValue) {
              return String(typeValue);
            }
          }
          return '';
        }

        function getEntryPath(entry) {
          if (entry && entry.get) {
            var existingPath = entry.get('path');
            if (existingPath) {
              return String(existingPath);
            }
          }

          var info = getLocaleInfo(entry);
          var collectionName = entry && entry.get ? entry.get('collection') : '';
          if (collectionName === 'pages' && info.baseSlug) {
            var localeSegment = info.locale || 'en';
            return 'content/pages/' + localeSegment + '/' + info.baseSlug + '.json';
          }
          return '';
        }

        function getMirrorPath(path) {
          if (!path) {
            return '';
          }
          if (path.indexOf('content/') === 0) {
            return path.replace('content/', 'site/content/');
          }
          return '';
        }

        function getSectionTitle(section) {
          if (!section || typeof section !== 'object') {
            return 'Untitled section';
          }

          var candidates = [
            section.title,
            section.heading,
            section.headline,
            section.label,
            section.name
          ];

          for (var i = 0; i < candidates.length; i += 1) {
            var candidate = candidates[i];
            if (candidate && String(candidate).trim()) {
              return String(candidate);
            }
          }

          if (Array.isArray(section.items) && section.items.length > 0) {
            var first = section.items[0];
            if (first && (first.title || first.heading || first.label)) {
              return String(first.title || first.heading || first.label);
            }
          }

          return section.type ? String(section.type) : 'Untitled section';
        }

        function countMedia(node) {
          if (!node) {
            return 0;
          }
          if (Array.isArray(node)) {
            var mediaTotal = 0;
            for (var i = 0; i < node.length; i += 1) {
              mediaTotal += countMedia(node[i]);
            }
            return mediaTotal;
          }
          if (typeof node === 'string') {
            return node.trim() ? 1 : 0;
          }
          if (typeof node !== 'object') {
            return 0;
          }

          var keys = ['image', 'imageUrl', 'media', 'poster', 'backgroundImage', 'src'];
          var total = 0;
          for (var j = 0; j < keys.length; j += 1) {
            if (node[keys[j]]) {
              total += countMedia(node[keys[j]]);
            }
          }

          if (Array.isArray(node.items)) {
            total += countMedia(node.items);
          }
          if (Array.isArray(node.slides)) {
            total += countMedia(node.slides);
          }
          if (Array.isArray(node.media)) {
            total += countMedia(node.media);
          }

          return total;
        }

        function countCtas(node) {
          if (!node) {
            return 0;
          }
          if (Array.isArray(node)) {
            var sum = 0;
            for (var i = 0; i < node.length; i += 1) {
              sum += countCtas(node[i]);
            }
            return sum;
          }
          if (typeof node !== 'object') {
            return 0;
          }

          var total = 0;
          var ctaKeys = ['cta', 'ctaPrimary', 'ctaSecondary', 'ctaTertiary', 'button', 'link', 'ctaLabel', 'ctaText'];
          for (var j = 0; j < ctaKeys.length; j += 1) {
            var value = node[ctaKeys[j]];
            if (!value) {
              continue;
            }
            if (Array.isArray(value)) {
              total += countCtas(value);
            } else if (typeof value === 'string') {
              if (value.trim()) {
                total += 1;
              }
            } else if (typeof value === 'object') {
              var label = value.label || value.text || value.title;
              var href = value.href || value.url;
              if ((label && String(label).trim()) || (href && String(href).trim())) {
                total += 1;
              }
            }
          }

          if (node.ctas) {
            total += countCtas(node.ctas);
          }
          if (node.buttons) {
            total += countCtas(node.buttons);
          }
          if (node.links) {
            total += countCtas(node.links);
          }
          if (Array.isArray(node.items)) {
            total += countCtas(node.items);
          }
          if (Array.isArray(node.slides)) {
            total += countCtas(node.slides);
          }

          return total;
        }

        function buildSectionDetails(section) {
          var details = [];
          var mediaCount = countMedia(section);
          if (mediaCount > 0) {
            details.push(mediaCount + (mediaCount === 1 ? ' media asset' : ' media assets'));
          } else {
            details.push('Media placeholder');
          }

          var ctaCount = countCtas(section);
          if (ctaCount > 0) {
            details.push(ctaCount + (ctaCount === 1 ? ' CTA ready' : ' CTAs ready'));
          } else {
            details.push('CTA not set');
          }

          var listKeys = [
            { key: 'items', label: 'item' },
            { key: 'slides', label: 'slide' },
            { key: 'quotes', label: 'quote' },
            { key: 'cards', label: 'card' },
            { key: 'products', label: 'product' }
          ];

          for (var i = 0; i < listKeys.length; i += 1) {
            var listKey = listKeys[i];
            var listValue = section && section[listKey.key];
            if (Array.isArray(listValue) && listValue.length > 0) {
              details.push(listValue.length + ' ' + (listValue.length === 1 ? listKey.label : listKey.label + 's'));
            }
          }

          return details;
        }

        function describeCtaState(data) {
          if (!data || typeof data !== 'object') {
            return 'CTA not configured';
          }

          var hasLabel = Boolean(data.label && String(data.label).trim());
          var hasUrl = Boolean((data.href && String(data.href).trim()) || (data.url && String(data.url).trim()));
          var missing = [];

          if (!hasLabel) {
            missing.push('label');
          }
          if (!hasUrl) {
            missing.push('URL');
          }

          if (missing.length === 0) {
            return 'Ready';
          }

          return 'Missing ' + missing.join(' & ');
        }

        function formatMediaLabel(media) {
          if (!media) {
            return '';
          }
          if (typeof media === 'string') {
            var trimmed = media.trim();
            if (!trimmed) {
              return '';
            }
            var segments = trimmed.split('/');
            return segments[segments.length - 1] || trimmed;
          }
          if (Array.isArray(media) && media.length > 0) {
            return formatMediaLabel(media[0]);
          }
          if (typeof media === 'object') {
            if (media.path) {
              return formatMediaLabel(media.path);
            }
            if (media.url) {
              return formatMediaLabel(media.url);
            }
            if (media.src) {
              return formatMediaLabel(media.src);
            }
            if (media.name) {
              return String(media.name);
            }
          }
          return '';
        }

        function buildHeroMediaDetails(entryData) {
          var data = entryData || {};
          var heroImages = data.heroImages || {};
          var candidates = [
            { key: 'heroImageLeft', label: 'Left image', value: heroImages.heroImageLeft },
            { key: 'heroImageRight', label: 'Right image', value: heroImages.heroImageRight }
          ];

          if (data.heroImage) {
            candidates.push({ key: 'heroImage', label: 'Hero image', value: data.heroImage });
          }
          if (data.backgroundImage) {
            candidates.push({ key: 'backgroundImage', label: 'Background image', value: data.backgroundImage });
          }
          if (data.poster) {
            candidates.push({ key: 'poster', label: 'Video poster', value: data.poster });
          }

          var details = [];

          for (var i = 0; i < candidates.length; i += 1) {
            var candidate = candidates[i];
            if (!candidate) {
              continue;
            }
            var value = candidate.value;
            var hasValue = Boolean(formatMediaLabel(value));
            var label = candidate.label || 'Hero imagery';
            var filename = hasValue ? formatMediaLabel(value) : 'Upload image';
            details.push({
              key: candidate.key || label,
              label: label,
              filename: filename,
              isReady: hasValue
            });
          }

          if (details.length === 0) {
            details.push({
              key: 'hero-placeholder',
              label: 'Hero imagery',
              filename: 'Upload hero imagery',
              isReady: false
            });
          }

          return details;
        }

        function getEntryData(entry) {
          if (entry && entry.get) {
            var data = entry.get('data');
            return toJS(data) || {};
          }
          if (entry && entry.data) {
            return entry.data;
          }
          return {};
        }

        function getCollectionNameValue(props, entry) {
          if (props && props.collection) {
            var collection = props.collection;
            if (collection.get) {
              return collection.get('name') || collection.get('label') || '';
            }
            if (collection.name) {
              return collection.name;
            }
          }
          if (entry && entry.get) {
            return entry.get('collection') || '';
          }
          return '';
        }

        function getSupportedLocales(entry, info) {
          var locales = [];
          var knownLocales = ['en', 'es', 'pt'];
          if (info && info.locale && knownLocales.indexOf(info.locale) === -1) {
            knownLocales.push(info.locale);
          }

          for (var i = 0; i < knownLocales.length; i += 1) {
            var locale = knownLocales[i];
            if (locales.indexOf(locale) === -1) {
              locales.push(locale);
            }
          }

          return locales;
        }

        function renderLocaleLinks(info, entry, collectionName) {
          if (!collectionName) {
            return [];
          }

          var slug = entry && entry.get ? entry.get('slug') : '';
          var baseSlug = info.baseSlug || '';
          var locales = getSupportedLocales(entry, info);
          var links = [];

          for (var i = 0; i < locales.length; i += 1) {
            var locale = locales[i];
            var targetSlug = baseSlug ? baseSlug + '_' + locale : slug;
            if (!targetSlug) {
              continue;
            }
            var isCurrent = (info.locale && info.locale === locale) || (!info.locale && locale === 'en');
            links.push(
              createElement(
                'a',
                {
                  key: 'locale-' + locale,
                  href: '#/collections/' + collectionName + '/entries/' + targetSlug,
                  style: Object.assign({}, localeChipStyle, isCurrent ? localeChipActiveStyle : localeChipInactiveStyle),
                  'aria-current': isCurrent ? 'true' : undefined,
                  'aria-label': 'Switch to ' + locale.toUpperCase() + ' locale',
                  'data-locale-chip': 'true'
                },
                locale.toUpperCase()
              )
            );
          }

          return links;
        }

        function renderCtaRow(cta, label) {
          var data = toJS(cta) || {};
          var text = data.label || data.text || 'Add label';
          var url = data.href || data.url || 'Add URL';
          var isReady = Boolean((data.label && String(data.label).trim()) && (data.href && String(data.href).trim()));
          var stateText = describeCtaState(data);

          return createElement(
            'div',
            { key: label, style: ctaRowStyle },
            createElement('span', { style: Object.assign({}, ctaBadgeStyle, label === 'Primary CTA' ? ctaPrimaryBadge : ctaSecondaryBadge) }, label),
            createElement('p', { style: ctaTextStyle }, text),
            createElement('p', { style: ctaUrlStyle }, url),
            createElement(
              'span',
              {
                style: Object.assign({}, ctaStateStyle, isReady ? ctaStateReadyStyle : ctaStateDraftStyle),
                role: 'status',
                'aria-live': 'polite'
              },
              stateText
            )
          );
        }

        function HomePreview(props) {
          var entry = props.entry;
          var entryData = getEntryData(entry);
          var heroHeadline = entry.getIn(['data', 'heroHeadline']) || '';
          var heroSubheadline = entry.getIn(['data', 'heroSubheadline']) || '';
          var heroAlignment = toJS(entry.getIn(['data', 'heroAlignment'])) || {};
          var heroCtas = toJS(entry.getIn(['data', 'heroCtas'])) || {};
          var sectionsData = entry.getIn(['data', 'sections']);
          var sectionItems = [];

          if (sectionsData) {
            if (typeof sectionsData.toJS === 'function') {
              sectionItems = sectionsData.toJS();
            } else if (Array.isArray(sectionsData)) {
              sectionItems = sectionsData;
            }
          }

          var info = getLocaleInfo(entry);
          var collectionLabel = getCollectionLabel(props, entry) || 'Pages';
          var collectionName = getCollectionNameValue(props, entry);
          var typeLabel = getEntryType(entry);
          var entryPath = getEntryPath(entry);
          var mirrorPath = getMirrorPath(entryPath);
          var localeLinkElements = renderLocaleLinks(info, entry, collectionName);
          var heroMediaDetails = buildHeroMediaDetails(entryData);

          var breadcrumbParts = [];
          if (collectionLabel) {
            breadcrumbParts.push(collectionLabel);
          }
          if (typeLabel) {
            breadcrumbParts.push(typeLabel);
          }
          if (info.baseSlug) {
            breadcrumbParts.push(info.baseSlug);
          }

          var sectionCards = sectionItems.map(function (section, index) {
            var type = section && section.type ? String(section.type) : 'Section ' + (index + 1);
            var titleText = getSectionTitle(section);
            var detailItems = buildSectionDetails(section);

            var detailChips = detailItems.map(function (detail, detailIndex) {
              return createElement('span', { key: 'detail-' + detailIndex, style: sectionDetailChipStyle }, detail);
            });

            return createElement(
              'div',
              { key: index, style: sectionCardStyle, role: 'listitem' },
              createElement('div', { style: sectionMetaStyle }, type),
              createElement('h3', { style: sectionTitleStyle }, titleText || 'Untitled section'),
              createElement('div', { style: sectionDetailRowStyle }, detailChips)
            );
          });

          var heroMetaCards = [
            createElement(
              'div',
              { key: 'align-x', style: heroMetaCardStyle, role: 'listitem' },
              createElement('p', { style: heroMetaHeadingStyle }, 'Horizontal alignment'),
              createElement('p', { style: heroMetaValueStyle }, heroAlignment.heroAlignX || 'Not set')
            ),
            createElement(
              'div',
              { key: 'align-y', style: heroMetaCardStyle, role: 'listitem' },
              createElement('p', { style: heroMetaHeadingStyle }, 'Vertical alignment'),
              createElement('p', { style: heroMetaValueStyle }, heroAlignment.heroAlignY || 'Not set')
            ),
            createElement(
              'div',
              { key: 'overlay', style: heroMetaCardStyle, role: 'listitem' },
              createElement('p', { style: heroMetaHeadingStyle }, 'Overlay strength'),
              createElement('p', { style: heroMetaValueStyle }, heroAlignment.heroOverlay || 'Not set')
            ),
            createElement(
              'div',
              { key: 'layout', style: heroMetaCardStyle, role: 'listitem' },
              createElement('p', { style: heroMetaHeadingStyle }, 'Layout hint'),
              createElement('p', { style: heroMetaValueStyle }, heroAlignment.heroLayoutHint || 'Add guidance')
            )
          ];

          var heroMediaCards = heroMediaDetails.map(function (detail) {
            return createElement(
              'div',
              { key: detail.key, style: heroMediaCardStyle, role: 'listitem' },
              createElement('p', { style: heroMediaLabelStyle }, detail.label),
              createElement('p', { style: heroMediaFilenameStyle }, detail.filename),
              createElement(
                'span',
                {
                  style: Object.assign(
                    {},
                    heroMediaStatusStyle,
                    detail.isReady ? heroMediaStatusReadyStyle : heroMediaStatusMissingStyle
                  ),
                  role: 'status',
                  'aria-live': 'polite'
                },
                detail.isReady ? 'Ready' : 'Add media'
              )
            );
          });

          var ctaRows = [];
          if (heroCtas && typeof heroCtas === 'object') {
            if (heroCtas.ctaPrimary) {
              ctaRows.push(renderCtaRow(heroCtas.ctaPrimary, 'Primary CTA'));
            }
            if (heroCtas.ctaSecondary) {
              ctaRows.push(renderCtaRow(heroCtas.ctaSecondary, 'Secondary CTA'));
            }
          }
          if (ctaRows.length === 0) {
            ctaRows.push(
              createElement(
                'div',
                { key: 'cta-empty', style: Object.assign({}, ctaRowStyle, { gridTemplateColumns: '1fr' }) },
                createElement('p', { style: ctaTextStyle }, 'Add hero CTAs to surface actions here.')
              )
            );
          }

          var slugValue = entry && entry.get ? entry.get('slug') : '';
          var previewIdentifier = slugValue || collectionName || 'home-preview';
          var shouldFocusContainer = false;
          if (previewIdentifier && previewIdentifier !== lastPreviewSlug) {
            shouldFocusContainer = true;
            lastPreviewSlug = previewIdentifier;
          }

          var heroHeadingId = 'preview-hero-heading';
          var sectionOverviewHeadingId = 'preview-sections-heading';
          var heroMediaHeadingId = 'preview-hero-media-heading';
          var ctaHeadingId = 'preview-cta-heading';
          var localeLabel = (info.locale || 'default').toUpperCase();
          var headlineLabel = (heroHeadline && String(heroHeadline).trim()) || (info.baseSlug ? info.baseSlug : 'current entry');
          var previewAriaLabel = 'Preview for ' + headlineLabel + ' (' + localeLabel + ' locale)';

          return createElement(
            'div',
            {
              style: containerStyle,
              role: 'region',
              tabIndex: -1,
              'aria-label': previewAriaLabel,
              'aria-live': 'polite',
              ref: function (node) {
                if (shouldFocusContainer) {
                  focusPreviewNode(node);
                }
              }
            },
            createElement(
              'div',
              { style: metaBarStyle, role: 'region', 'aria-labelledby': metaRegionLabelId, 'aria-live': 'polite' },
              createElement(
                'div',
                { style: metaStackStyle },
                createElement('div', { id: metaRegionLabelId, style: breadcrumbStyle }, breadcrumbParts.join(' › ') || 'Current entry'),
                entryPath ? createElement('div', { style: metaPathStyle }, 'Content: ' + entryPath) : null,
                mirrorPath ? createElement('div', { style: metaPathStyle }, 'Mirror: ' + mirrorPath) : null,
                createElement('div', { style: metaPathStyle }, 'Collection: ' + collectionLabel),
                createElement('div', { style: metaPathStyle }, 'Template: ' + (typeLabel || 'Not set'))
              ),
              createElement(
                'div',
                { style: metaSideStackStyle },
                createElement(
                  'div',
                  { style: localeBadgeStyle },
                  createElement('span', null, 'Locale'),
                  createElement('span', { style: localePillStyle, role: 'status', 'aria-live': 'polite' }, (info.locale || 'default').toUpperCase())
                ),
                localeLinkElements.length
                  ? createElement(
                      'nav',
                      {
                        style: localeSwitcherStyle,
                        role: 'navigation',
                        'aria-label': 'Available locales',
                        'data-locale-switcher': 'true'
                      },
                      localeLinkElements
                    )
                  : null
              )
            ),
            createElement(
              'section',
              { style: heroStyle, role: 'region', 'aria-labelledby': heroHeadingId },
              createElement('div', { style: badgeStyle }, 'Home hero'),
              createElement('h1', { id: heroHeadingId, style: heroHeadlineStyle }, heroHeadline || 'Hero headline'),
              heroSubheadline ? createElement('p', { style: heroSubStyle }, heroSubheadline) : null,
              createElement('div', { style: heroMetaStyle, role: 'list' }, heroMetaCards),
              heroMediaCards.length
                ? createElement(
                    'div',
                    { style: heroMediaWrapperStyle, role: 'group', 'aria-labelledby': heroMediaHeadingId },
                    createElement('h2', { id: heroMediaHeadingId, style: heroMediaHeadingStyle }, 'Hero media status'),
                    createElement('div', { style: heroMediaGridStyle, role: 'list' }, heroMediaCards)
                  )
                : null,
              createElement(
                'div',
                { style: ctaGroupStyle, role: 'group', 'aria-labelledby': ctaHeadingId },
                createElement('h2', { id: ctaHeadingId, style: ctaHeadingStyle }, 'Call-to-actions'),
                ctaRows
              )
            ),
            createElement(
              'section',
              { style: sectionListStyle, role: 'region', 'aria-labelledby': sectionOverviewHeadingId },
              createElement('h2', { id: sectionOverviewHeadingId, style: sectionListHeadingStyle }, 'Sections overview'),
              sectionCards.length
                ? createElement('div', { style: sectionGridStyle, role: 'list' }, sectionCards)
                : createElement('p', { style: emptyStateStyle }, 'Add sections to preview them here.')
            )
          );
        }

        var homeTemplates = ['home_en', 'home_es', 'home_pt'];
        homeTemplates.forEach(function (template) {
          CMS.registerPreviewTemplate(template, HomePreview);
        });
      }

      initPreview();
    })();
  </script>
</body>
</html>
